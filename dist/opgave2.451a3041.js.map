{"version":3,"sources":["../src/index.mjs","src/js/utils.js","src/js/opgave2.js"],"names":["url","options","Promise","resolve","reject","request","XMLHttpRequest","keys","all","headers","response","ok","status","statusText","responseURL","text","responseText","json","JSON","parse","blob","Blob","clone","entries","get","n","toLowerCase","has","const","i","open","method","onload","getAllResponseHeaders","replace","m","key","value","push","onerror","withCredentials","credentials","setRequestHeader","send","body","CREDENTIALS","DEFAULT_SETTINGS","Authorization","btoa","timer","sortingDateEnd","sortingDateStart","dateStartElement","document","querySelector","dateEndElement","debounceAPICall","func","delay","clearTimeout","setTimeout","getFilms","title","sorting","length","data","resultElement","resultList","FilmList","map","film","Title","ReleaseYear","Category","join","innerHTML","addEventListener","e","target"],"mappings":"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","file":"opgave2.451a3041.js","sourceRoot":"..","sourcesContent":["export default function(url, options) {\n\toptions = options || {};\n\treturn new Promise( (resolve, reject) => {\n\t\tconst request = new XMLHttpRequest();\n\t\tconst keys = [];\n\t\tconst all = [];\n\t\tconst headers = {};\n\n\t\tconst response = () => ({\n\t\t\tok: (request.status/100|0) == 2,\t\t// 200-299\n\t\t\tstatusText: request.statusText,\n\t\t\tstatus: request.status,\n\t\t\turl: request.responseURL,\n\t\t\ttext: () => Promise.resolve(request.responseText),\n\t\t\tjson: () => Promise.resolve(JSON.parse(request.responseText)),\n\t\t\tblob: () => Promise.resolve(new Blob([request.response])),\n\t\t\tclone: response,\n\t\t\theaders: {\n\t\t\t\tkeys: () => keys,\n\t\t\t\tentries: () => all,\n\t\t\t\tget: n => headers[n.toLowerCase()],\n\t\t\t\thas: n => n.toLowerCase() in headers\n\t\t\t}\n\t\t});\n\n\t\trequest.open(options.method || 'get', url, true);\n\n\t\trequest.onload = () => {\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, (m, key, value) => {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theaders[key] = headers[key] ? `${headers[key]},${value}` : value;\n\t\t\t});\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\tfor (const i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.send(options.body || null);\n\t});\n}\n","const CREDENTIALS = 'F005936:JRbTlfWVMH0bm3n'\r\n\r\nexport const DEFAULT_SETTINGS = {\r\n  method: 'GET',\r\n  headers: {\r\n    Authorization: 'Basic ' + btoa(CREDENTIALS)\r\n  }\r\n}\r\n","import fetch from 'unfetch'\r\nimport { DEFAULT_SETTINGS } from './utils'\r\n\r\nlet timer, sortingDateEnd, sortingDateStart\r\nconst dateStartElement = document.querySelector('#select-date-start')\r\nconst dateEndElement = document.querySelector('#select-date-end')\r\n\r\nconst debounceAPICall = (func, delay) => {\r\n  clearTimeout(timer)\r\n\r\n  timer = setTimeout(func, delay)\r\n}\r\n\r\nconst getFilms = async (title, sorting) => {\r\n  if (title.length > 3) {\r\n    const response = await fetch(\r\n      `https://api.dfi.dk/v1/film?title=${title}&ReleaseEnd=${sortingDateEnd}&ReleaseStart=${sortingDateStart}`,\r\n      DEFAULT_SETTINGS\r\n    )\r\n    const data = await response.json()\r\n\r\n    const resultElement = document.querySelector('#results')\r\n\r\n    const resultList = data.FilmList.map(\r\n      (film) =>\r\n        `<h1>${film.Title}</h1>\r\n            <p>Released: ${film.ReleaseYear} | Category: ${\r\n          film.Category ?? 'Not Found ðŸ˜•'\r\n        }</p>`\r\n    ).join('')\r\n\r\n    resultElement.innerHTML = resultList\r\n  }\r\n}\r\n\r\ndateStartElement.addEventListener(\r\n  'change',\r\n  (e) => (sortingDateStart = e.target.value)\r\n)\r\ndateEndElement.addEventListener(\r\n  'change',\r\n  (e) => (sortingDateEnd = e.target.value)\r\n)\r\n\r\ndocument\r\n  .querySelector('#input-title')\r\n  .addEventListener('input', (e) =>\r\n    debounceAPICall(() => getFilms(e.target.value), 1000)\r\n  )\r\n"]}