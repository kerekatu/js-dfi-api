{"version":3,"sources":["../src/index.mjs","src/js/utils.js","src/js/opgave2-3.js"],"names":["url","options","Promise","resolve","reject","request","XMLHttpRequest","keys","all","headers","response","ok","status","statusText","responseURL","text","responseText","json","JSON","parse","blob","Blob","clone","entries","get","n","toLowerCase","has","const","i","open","method","onload","getAllResponseHeaders","replace","m","key","value","push","onerror","withCredentials","credentials","setRequestHeader","send","body","CREDENTIALS","DEFAULT_SETTINGS","Authorization","btoa","timer","sortingDateEnd","sortingDateStart","dateStartElement","document","querySelector","dateEndElement","resultElement","innerHTML","debounceAPICall","func","delay","clearTimeout","setTimeout","getFilms","title","length","data","resultList","FilmList","map","film","Title","ReleaseYear","Category","join","addEventListener","e","target"],"mappings":";;AEAA;;AACA;;ADDA,MAAM6C,WAAW,GAAG,yBAApB;ADAe,ACER,MAAMC,YDFW9C,CAAT,EAAcC,CAAd,ACEc,EDFAA,CCEG;ADFHA,AEG7B,ADAE8B,EAAAA,ECAEkB,IDAI,CDFPhD,AEED,CFFCA,ACES,CCACiD,EFFAjD,CAAAA,CCCqB,GDDV,EAArBA,EACO,GECR,CFDYC,CECeiD,MFDnB,CAAIjD,SECZ,CFDsBC,CAAVD,EAAmBE,CAAnBF,EAAmBE;AAAAA,AEE/B,ADAEK,EAAAA,ICAI2C,EFDE/C,CAAAA,ACCC,EAAE,CDDO,IAAIC,MECA,GAAG+C,KFDP,EADajD,CEEE,CAACkD,aAAT,CAAuB,oBAAvB,CAAzB;AFF+BlD,AEG/B,ADAI2C,IAAAA,ECAEQ,EFDEhD,CAAAA,GAAO,EAFgBH,GCGd,EAAE,CCAC,GAAGiD,ODAOL,CCAC,CAACM,EDAE,CAACT,UCAZ,CAAuB,ADAZ,kBCAX,CAAvB;AFH+BzC,AEI/B,ADFW,MCELoD,EFDEhD,CAAAA,GAAM,EAHiBJ,KEIZ,GAAGiD,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAtB;AFJ+BlD,AEM/BoD,ADNgC,CAAzB,ODIC/C,CAAAA,GAAU,CEEL,CFNkBL,AEMjBqD,SAAd,GAA0B,yCAA1B;AFN+BrD,QAMvBM,CAAAA,GAAAA,YAAAA;AAAAA,AEER,MAAMgD,OFFEhD,QEEa,GAAG,CAACiD,IAAD,EAAOC,KAAP,KAAiB;AFDtCjD,AEEDkD,EAAAA,MFFClD,EAAAA,EAA8B,EEEnB,CAACsC,GFFP5C,CAAAA,CAAQO,AEEF,CAAZ,KFFMP,GAAe,GAAfA,GAAmB,CAAM,CADzBK;AAELG,AEGDoC,EAAAA,KAAK,CFHJpC,EEGOiD,QFHPjD,EAAYR,AEGK,CFHLA,AEGMsD,CFHE9C,GEGH,EAAO+C,KFLnBlD,AEKY,CAAlB;AFFCE,AEGF,CAJD,OFCGA,MAAAA,EAAQP,CAAAA,CAAQO,MAHXF;AAILV,QAAAA,GAAAA,EAAKK,CAAAA,CAAQS,WAJRJ;AAKLK,AEGH,MAAMgD,EFHHhD,IAAAA,EAAAA,AEGW,GAAG,MAAOiD,GFHrBjD,EEGc,IAAiB;AFH/BA,AEID,MAAIiD,KAAK,CAACC,KFJG/D,CEIT,GAAe,CAAnB,EFJaA,AEIS,CFJDC,OAARD,CAAgBG,CAAAA,CAAQW,YAAxBd,CAAZa;AAAoCC,AEKnCwC,IAAAA,KFVI9C,QEUS,CAAC+C,SAAd,GAA0B,qBAA1B;AFJDxC,AEMC,QFNDA,EEMOP,EFNPO,EAAAA,IEMe,GAAG,KFNlBA,CEMwB,sBACpB,oCAAmC+C,KAAM,eAAcd,cAAe,iBAAgBC,gBAAiB,EADnF,EAErBL,uBAFqB,CAAvB;AFND7B,AEUC,UAAMiD,IAAI,GFVChE,AEUE,MAAMQ,CFVRR,CAAQC,MEUQ,CFVhBD,AEUiBe,CFVDC,GEUR,CFVQA,CAAKC,AEUhC,KFV2BD,CAAWb,CAAAA,CAAQW,YAAnBE,CAAhBhB,CAAZe;AAA+CD,AEY9C,SFlBIN,CEkBEyD,UAAU,GAAGD,IAAI,CAACE,QAAL,CAAcC,GAAd,CAChBC,IAAD,IACG;AFbNlD,QAAAA,IAAAA,EAAAA,AEcWkD,IAAI,CAACC,KAAM,EFdtBnD;AAAAA,iBAAYlB,OAAAA,CAAQC,EEeImE,IAAI,CFfhBpE,AEeiBsE,CFfD,IAAInD,IAAJ,CAAS,CAAChB,AEeG,CFfHA,CAAQK,QAAT,CAAT,CAAhBR,CAAZkB,GEgBOkD,IAAI,CAACG,QAAL,IAAiB,cAClB,YANc,EAOjBC,IAPiB,CAOZ,EAPY,CAAnB;AFX6ChE,AEoB7C8C,IAAAA,KF3BI9C,QE2BS,CAAC+C,SAAd,GACG,cAAaS,IAAI,CAACE,QAAL,CAAcH,MAAO,aAAnC,GAAkDE,UADpD;AFnBD7C,AEqBA,QFrBAA,KAAAA,EAAOZ,CARFA;AASLD,AEqBF,CAtBD,OFCGA,OAAAA,EAAS;AACRF,UAAAA,IAAAA,EAAAA,YAAAA;AAAAA,AEsBJ6C,gBAAgB,CAACuB,EFtBDpE,CAAZA,aEsBJ,CACE,QADF,EAEGqE,CAAD,IAAQzB,gBAAgB,GAAGyB,CAAC,CAACC,MAAF,CAASxC,KAFtC;AFtBgB9B,AE0BhBgD,WF3BY,GE2BE,CAACoB,gBAAf,CACE,QADF,EAEGC,CAAD,IAAQ1B,cAAc,GAAG0B,CAAC,CAACC,MAAF,CAASxC,KAFpC;AFzBId,AE8BJ8B,QAAQ,CACLC,CF/BC/B,OAAAA,EAAAA,GE8BJ,CACiB,QF/BbA,ME8BJ,EAEGoD,gBAFH,CAEoB,OAFpB,EAE8BC,CAAD,IACzBlB,eAAe,CAAC,MAAMK,QAAQ,CAACa,CAAC,CAACC,MAAF,CAASxC,KAAV,CAAf,EAAiC,IAAjC,CAHnB;AF9BId,mBAAef,CAAfe;AAAef,WAFP;AAGRgB,UAAAA,GAAAA,EAAAA,UAAKC,CAALD,EAAKC;AAAAA,mBAAKhB,CAAAA,CAAQgB,CAAAA,CAAEC,WAAFD,EAARhB,CAALgB;AAAeC,WAHZ;AAIRC,UAAAA,GAAAA,EAAAA,UAAKF,CAALE,EAAKF;AAAAA,mBAAKA,CAAAA,CAAEC,WAAFD,MAAmBhB,CAAxBgB;AAAwBhB;AAJrB;AATJC,OAAAA;AAayBD,KAnBFL;;AAmBEK,SAmB1BmB,IAAMC,CAnBoBpB,IAI/BJ,CAAAA,CAAQyB,IAARzB,CAAaJ,CAAAA,CAAQ8B,MAAR9B,IAAkB,KAA/BI,EAAsCL,CAAtCK,EAAsCL,CAAK,CAA3CK,GAEAA,CAAAA,CAAQ2B,MAAR3B,GAAQ2B,YAAAA;AACP3B,MAAAA,CAAAA,CAAQ4B,qBAAR5B,GAAgC6B,OAAhC7B,CAAwC,8BAAxCA,EAAwC,UAAiC8B,CAAjC,EAAoCC,CAApC,EAAyCC,CAAzC,EAAyCA;AAChF9B,QAAAA,CAAAA,CAAK+B,IAAL/B,CAAU6B,CAAAA,GAAMA,CAAAA,CAAIV,WAAJU,EAAhB7B,GACAC,CAAAA,CAAI8B,IAAJ9B,CAAS,CAAC4B,CAAD,EAAMC,CAAN,CAAT7B,CADAD,EAEAE,CAAAA,CAAQ2B,CAAR3B,CAAAA,GAAeA,CAAAA,CAAQ2B,CAAR3B,CAAAA,GAAkBA,CAAAA,CAAQ2B,CAAR3B,CAAAA,GAAQ2B,GAAR3B,GAAgB4B,CAAlC5B,GAA4C4B,CAF3D9B;AAE2D8B,OAH5DhC,GAKAF,CAAAA,CAAQO,CAAAA,EAARP,CALAE;AAKQK,KARTL,EAWAA,CAAAA,CAAQkC,OAARlC,GAAkBD,CAXlBC,EAaAA,CAAAA,CAAQmC,eAARnC,GAA+C,aAArBJ,CAAAA,CAAQwC,WAblCpC,EAegBJ,CAAAA,CAAQQ,OAnBOA,EAoB9BJ,CAAAA,CAAQqC,gBAARrC,CAAyBwB,CAAzBxB,EAA4BJ,CAAAA,CAAQQ,OAARR,CAAgB4B,CAAhB5B,CAA5BI;;AAGDA,IAAAA,CAAAA,CAAQsC,IAARtC,CAAaJ,CAAAA,CAAQ2C,IAAR3C,IAAgB,IAA7BI;AAA6B,GA1CvB,CAFqBJ;AA4CE","file":"opgave2-3.69f1fddd.js","sourceRoot":"..","sourcesContent":["export default function(url, options) {\n\toptions = options || {};\n\treturn new Promise( (resolve, reject) => {\n\t\tconst request = new XMLHttpRequest();\n\t\tconst keys = [];\n\t\tconst all = [];\n\t\tconst headers = {};\n\n\t\tconst response = () => ({\n\t\t\tok: (request.status/100|0) == 2,\t\t// 200-299\n\t\t\tstatusText: request.statusText,\n\t\t\tstatus: request.status,\n\t\t\turl: request.responseURL,\n\t\t\ttext: () => Promise.resolve(request.responseText),\n\t\t\tjson: () => Promise.resolve(JSON.parse(request.responseText)),\n\t\t\tblob: () => Promise.resolve(new Blob([request.response])),\n\t\t\tclone: response,\n\t\t\theaders: {\n\t\t\t\tkeys: () => keys,\n\t\t\t\tentries: () => all,\n\t\t\t\tget: n => headers[n.toLowerCase()],\n\t\t\t\thas: n => n.toLowerCase() in headers\n\t\t\t}\n\t\t});\n\n\t\trequest.open(options.method || 'get', url, true);\n\n\t\trequest.onload = () => {\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, (m, key, value) => {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theaders[key] = headers[key] ? `${headers[key]},${value}` : value;\n\t\t\t});\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\tfor (const i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.send(options.body || null);\n\t});\n}\n","const CREDENTIALS = 'F005936:JRbTlfWVMH0bm3n'\r\n\r\nexport const DEFAULT_SETTINGS = {\r\n  method: 'GET',\r\n  headers: {\r\n    Authorization: 'Basic ' + btoa(CREDENTIALS)\r\n  }\r\n}\r\n","import fetch from 'unfetch'\r\nimport { DEFAULT_SETTINGS } from './utils'\r\n\r\nlet timer, sortingDateEnd, sortingDateStart\r\nconst dateStartElement = document.querySelector('#select-date-start')\r\nconst dateEndElement = document.querySelector('#select-date-end')\r\nconst resultElement = document.querySelector('#results')\r\n\r\nresultElement.innerHTML = '<h4>Start Typing To See Results...</h4>'\r\n\r\nconst debounceAPICall = (func, delay) => {\r\n  clearTimeout(timer)\r\n\r\n  timer = setTimeout(func, delay)\r\n}\r\n\r\nconst getFilms = async (title) => {\r\n  if (title.length > 3) {\r\n    resultElement.innerHTML = '<h4>Loading...</h4>'\r\n\r\n    const response = await fetch(\r\n      `https://api.dfi.dk/v1/film?title=${title}&ReleaseEnd=${sortingDateEnd}&ReleaseStart=${sortingDateStart}`,\r\n      DEFAULT_SETTINGS\r\n    )\r\n    const data = await response.json()\r\n\r\n    const resultList = data.FilmList.map(\r\n      (film) =>\r\n        `<div class=\"films__result\">\r\n        <h2>${film.Title}</h2>\r\n            <p>Released: ${film.ReleaseYear} | Category: ${\r\n          film.Category ?? 'Not Found ðŸ˜•'\r\n        }</p></div>`\r\n    ).join('')\r\n\r\n    resultElement.innerHTML =\r\n      `<h4>Found: ${data.FilmList.length} films</h4>` + resultList\r\n  }\r\n}\r\n\r\ndateStartElement.addEventListener(\r\n  'change',\r\n  (e) => (sortingDateStart = e.target.value)\r\n)\r\ndateEndElement.addEventListener(\r\n  'change',\r\n  (e) => (sortingDateEnd = e.target.value)\r\n)\r\n\r\ndocument\r\n  .querySelector('#input-title')\r\n  .addEventListener('input', (e) =>\r\n    debounceAPICall(() => getFilms(e.target.value), 1000)\r\n  )\r\n"]}